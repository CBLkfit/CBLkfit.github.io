<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-logistic regression" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/31/logistic%20regression/" class="article-date">
  <time class="dt-published" datetime="2020-12-31T04:28:11.968Z" itemprop="datePublished">2020-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>![image-20201231122853343](/Users/cbl/MyBlog/source/_posts/logistic regression/image-20201231122853343.png)</p>
<p>![image-20201231135901370](/Users/cbl/MyBlog/source/_posts/logistic regression/image-20201231135901370.png)</p>
<p>![image-20201231135923774](/Users/cbl/MyBlog/source/_posts/logistic regression/image-20201231135923774.png)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/31/logistic%20regression/" data-id="ckjchmphj0004e0fy69ru8uih" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ç”¨dockeréƒ¨ç½²pythonç¯å¢ƒ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/30/%E7%94%A8docker%E9%83%A8%E7%BD%B2python%E7%8E%AF%E5%A2%83/" class="article-date">
  <time class="dt-published" datetime="2020-12-30T04:12:01.000Z" itemprop="datePublished">2020-12-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/30/%E7%94%A8docker%E9%83%A8%E7%BD%B2python%E7%8E%AF%E5%A2%83/">ç”¨dockeréƒ¨ç½²pythonç¯å¢ƒ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æŸ¥æ‰¾<a target="_blank" rel="noopener" href="https://hub.docker.com/_/python?tab=tags&page=1&ordering=last_updated">dockerhub</a>ä¸Šçš„pythoné•œåƒï¼Œæ‹‰å–é•œåƒ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ docker pull python:<span class="number">3.8</span><span class="number">.7</span>-slim-buster</span><br><span class="line">âœ  ~ docker images</span><br></pre></td></tr></table></figure>
<p><strong>-itï¼š</strong>è¿›å…¥å®¹å™¨å‘½ä»¤è¡Œæ¨¡å¼</p>
<p><strong>â€“nameï¼š</strong>è‡ªå®šä¹‰å®¹å™¨åç§°ï¼Œä¸ç”¨çš„è¯ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªåç§°</p>
<p><strong>-v ~/mednli:/root/mednliï¼š</strong>å°†ä¸»æœºç›®å½•~/mednliæŒ‚è½½åˆ°å®¹å™¨çš„root/mednli</p>
<p><strong>python:3.8.7-slim-busterï¼š</strong>è¦è¿è¡Œçš„é•œåƒå+TAG</p>
<p><strong>bashï¼š</strong>è¿›å…¥å®¹å™¨å‘½ä»¤è¡Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ docker run -it --name pytest -v ~<span class="regexp">/mednli:/</span>root/mednli python:<span class="number">3.8</span><span class="number">.7</span>-slim-buster bash</span><br></pre></td></tr></table></figure>
<p>å®‰è£…éœ€è¦çš„pythonåŒ…</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@e408c3c08685:~# pip install -r ~/mednli/requirements.txt</span><br></pre></td></tr></table></figure>
<p><code>exit</code>æ¨å‡ºdockerå®¹å™¨</p>
<p>æŸ¥çœ‹å®¹å™¨ä¿¡æ¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ docker ps -a</span><br><span class="line">CONTAINER ID   IMAGE                      COMMAND    CREATED       STATUS                      PORTS     NAMES</span><br><span class="line">e408c3c08685   python:<span class="number">3.8</span><span class="number">.7</span>-slim-buster   <span class="string">&quot;bash&quot;</span>     <span class="number">2</span> hours ago   Exited (<span class="number">0</span>) <span class="number">42</span> seconds ago             pytest</span><br><span class="line">3609dfb44e20   hello-world                <span class="string">&quot;/hello&quot;</span>   <span class="number">8</span> days ago    Exited (<span class="number">0</span>) <span class="number">8</span> days ago                 crazy_mendel</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>å®¹å™¨æ‰“åŒ…ğŸ“¦æˆé•œåƒ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ docker commit -a <span class="string">&quot;cbl&quot;</span> -m <span class="string">&quot;my python env&quot;</span> e408c3c08685 python_env:v1</span><br></pre></td></tr></table></figure>
<p><strong>-aï¼š</strong>æäº¤çš„ä½œè€…åç§°</p>
<p><strong>-mï¼š</strong>æäº¤æ—¶çš„æ–‡å­—è¯´æ˜</p>
<p><strong>e408c3c08685ï¼š</strong>å®¹å™¨ID</p>
<p><strong>python_env:v1ï¼š</strong>é•œåƒåå­—:TAG</p>
<h4 id="å‚è€ƒèµ„æ–™ï¼š"><a href="#å‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="å‚è€ƒèµ„æ–™ï¼š"></a>å‚è€ƒèµ„æ–™ï¼š</h4><ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/bjjoy2009/article/details/105854908/">https://blog.csdn.net/bjjoy2009/article/details/105854908/</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/docker/docker-command-manual.html">Dockerå‘½ä»¤è¡Œå¤§å…¨</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/30/%E7%94%A8docker%E9%83%A8%E7%BD%B2python%E7%8E%AF%E5%A2%83/" data-id="ckjchmphl0006e0fy55dk61o9" data-title="ç”¨dockeréƒ¨ç½²pythonç¯å¢ƒ" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-å­¦ä¹ fairseqä¹‹Roberta" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/28/%E5%AD%A6%E4%B9%A0fairseq%E4%B9%8BRoberta/" class="article-date">
  <time class="dt-published" datetime="2020-12-28T09:14:27.000Z" itemprop="datePublished">2020-12-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/28/%E5%AD%A6%E4%B9%A0fairseq%E4%B9%8BRoberta/">å­¦ä¹ fairseqä¹‹Roberta</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><code>git clone https://github.com/pytorch/fairseq.git</code></p>
<p><code>cd fairseq</code></p>
<p><code>pip install --editable ./</code></p>
<p>For MacOS:</p>
<p><code>CFLAGS=&quot;-stdlib=libc++&quot; pip install --editable ./</code></p>
<p>æ¥ä¸‹æ¥å¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/pytorch/fairseq/blob/master/examples/roberta/README.pretraining.md">https://github.com/pytorch/fairseq/blob/master/examples/roberta/README.pretraining.md</a> </p>
<p>ä¸‹è½½æ•°æ®é›†<em>WikiText-103</em>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https:<span class="comment">//s3.amazonaws.com/research.metamind.io/wikitext/wikitext-103-raw-v1.zip</span></span><br><span class="line">unzip wikitext-<span class="number">103</span>-raw-v1.zip</span><br></pre></td></tr></table></figure>
<p>å°†æ•°æ®é›†æŒ‰ç…§GPT-2 BPEè¿›è¡Œç¼–ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p gpt2_bpe</span><br><span class="line">wget -O gpt2_bpe/encoder.json https:<span class="comment">//dl.fbaipublicfiles.com/fairseq/gpt2_bpe/encoder.json</span></span><br><span class="line">wget -O gpt2_bpe/vocab.bpe https:<span class="comment">//dl.fbaipublicfiles.com/fairseq/gpt2_bpe/vocab.bpe</span></span><br><span class="line"><span class="keyword">for</span> SPLIT <span class="keyword">in</span> train valid test; <span class="keyword">do</span> \</span><br><span class="line">    python -m examples.roberta.multiprocessing_bpe_encoder \</span><br><span class="line">        --encoder-json gpt2_bpe/encoder.json \</span><br><span class="line">        --vocab-bpe gpt2_bpe/vocab.bpe \</span><br><span class="line">        --inputs wikitext-<span class="number">103</span>-raw/wiki.$&#123;SPLIT&#125;.raw \</span><br><span class="line">        --outputs wikitext-<span class="number">103</span>-raw/wiki.$&#123;SPLIT&#125;.bpe \</span><br><span class="line">        --keep-empty \</span><br><span class="line">        --workers <span class="number">60</span>; \</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">wget -O gpt2_bpe/dict.txt https:<span class="comment">//dl.fbaipublicfiles.com/fairseq/gpt2_bpe/dict.txt</span></span><br><span class="line">fairseq-preprocess \</span><br><span class="line">    --only-source \</span><br><span class="line">    --srcdict gpt2_bpe/dict.txt \</span><br><span class="line">    --trainpref wikitext-<span class="number">103</span>-raw/wiki.train.bpe \</span><br><span class="line">    --validpref wikitext-<span class="number">103</span>-raw/wiki.valid.bpe \</span><br><span class="line">    --testpref wikitext-<span class="number">103</span>-raw/wiki.test.bpe \</span><br><span class="line">    --destdir data-bin/wikitext-<span class="number">103</span> \</span><br><span class="line">    --workers <span class="number">60</span></span><br></pre></td></tr></table></figure>
<p>å¾—åˆ°<em>data-bin/wikitext-103</em> æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸‹æ˜¯é¢„å¤„ç†å¥½çš„æ•°æ®é›†ã€‚</p>
<p>æ¥ä¸‹æ¥å¯ä»¥å¼€å§‹è®­ç»ƒå•¦ï¼Œéœ€è¦ç”¨åˆ°GPUèµ„æºã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">TOTAL_UPDATES=125000    # Total number of training steps</span><br><span class="line">WARMUP_UPDATES=10000    # Warmup the learning rate over this many updates</span><br><span class="line">PEAK_LR=0.0005          # Peak learning rate, adjust as needed</span><br><span class="line">TOKENS_PER_SAMPLE=512   # Max sequence length</span><br><span class="line">MAX_POSITIONS=512       # Num. positional embeddings (usually same as above)</span><br><span class="line">MAX_SENTENCES=16        # Number of sequences per batch (batch size)</span><br><span class="line">UPDATE_FREQ=16          # Increase the batch size 16x</span><br><span class="line"></span><br><span class="line">DATA_DIR=data-bin/wikitext-<span class="number">103</span></span><br><span class="line"></span><br><span class="line">fairseq-train --fp16 $DATA_DIR \</span><br><span class="line">    --task masked_lm --criterion masked_lm \</span><br><span class="line">    --arch roberta_base --sample-<span class="keyword">break</span>-mode complete --tokens-per-sample $TOKENS_PER_SAMPLE \</span><br><span class="line">    --optimizer adam --adam-betas <span class="string">&#x27;(0.9,0.98)&#x27;</span> --adam-eps <span class="number">1e-6</span> --clip-norm <span class="number">0.0</span> \</span><br><span class="line">    --lr-scheduler polynomial_decay --lr $PEAK_LR --warmup-updates $WARMUP_UPDATES --total-num-update $TOTAL_UPDATES \</span><br><span class="line">    --dropout <span class="number">0.1</span> --attention-dropout <span class="number">0.1</span> --weight-decay <span class="number">0.01</span> \</span><br><span class="line">    --batch-size $MAX_SENTENCES --update-freq $UPDATE_FREQ \</span><br><span class="line">    --max-update $TOTAL_UPDATES --log-format simple --log-interval <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœå‡ºç°å¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Error</span>: mkl-service + Intel(R) MKL: MKL_THREADING_LAYER=INTEL is incompatible <span class="keyword">with</span> libgomp.so<span class="number">.1</span> library.</span><br><span class="line">        Try to <span class="keyword">import</span> numpy first or set the threading layer accordingly. <span class="built_in">Set</span> MKL_SERVICE_FORCE_INTEL to force it.</span><br></pre></td></tr></table></figure>
<p>åœ¨*~/.bashrc* ä¸­æ·»åŠ <code>export MKL_THREADING_LAYER=GNU</code>å°±å¯ä»¥è§£å†³ï¼š</p>
<p>Warning</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/User/miniconda3/lib/python3<span class="number">.8</span>/site-packages/torch/nn/parallel/distributed.py:<span class="number">397</span>: UserWarning: The <span class="string">`check_reduction`</span> argument <span class="keyword">in</span> <span class="string">`DistributedDataParallel`</span> <span class="built_in">module</span> is deprecated. Please avoid using it.</span><br></pre></td></tr></table></figure>


<p>8å¡æœåŠ¡å™¨è¿è¡Œï¼š</p>
<p>2020-12-28 15:40:38 | INFO | fairseq.distributed_utils | distributed init (rank 0): tcp://localhost:12737</p>
<p>2020-12-28 15:40:38 | INFO | fairseq.distributed_utils | distributed init (rank 1): tcp://localhost:12737</p>
<p>2020-12-28 15:40:38 | INFO | fairseq.distributed_utils | distributed init (rank 2): tcp://localhost:12737</p>
<p>2020-12-28 15:40:38 | INFO | fairseq.distributed_utils | distributed init (rank 6): tcp://localhost:12737</p>
<p>2020-12-28 15:40:38 | INFO | fairseq.distributed_utils | distributed init (rank 5): tcp://localhost:12737</p>
<p>2020-12-28 15:40:38 | INFO | fairseq.distributed_utils | distributed init (rank 3): tcp://localhost:12737</p>
<p>2020-12-28 15:40:38 | INFO | fairseq.distributed_utils | distributed init (rank 4): tcp://localhost:12737</p>
<p>2020-12-28 15:40:38 | INFO | fairseq.distributed_utils | distributed init (rank 7): tcp://localhost:12737</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.distributed_utils | initialized host song1-SYS-4029GP-TRT as rank 5</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.distributed_utils | initialized host song1-SYS-4029GP-TRT as rank 6</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.distributed_utils | initialized host song1-SYS-4029GP-TRT as rank 0</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.distributed_utils | initialized host song1-SYS-4029GP-TRT as rank 7</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.distributed_utils | initialized host song1-SYS-4029GP-TRT as rank 3</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.distributed_utils | initialized host song1-SYS-4029GP-TRT as rank 2</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.distributed_utils | initialized host song1-SYS-4029GP-TRT as rank 4</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.distributed_utils | initialized host song1-SYS-4029GP-TRT as rank 1</p>
<p>2020-12-28 15:40:45 | INFO | fairseq_cli.train | {â€˜_nameâ€™: None, â€˜commonâ€™: {â€˜_nameâ€™: None, â€˜no_progress_barâ€™: False, â€˜log_intervalâ€™: 1, â€˜log_formatâ€™: â€˜simpleâ€™, â€˜tensorboard_logdirâ€™: None, â€˜wandb_projectâ€™: None, â€˜azureml_loggingâ€™: False, â€˜seedâ€™: 1, â€˜cpuâ€™: False, â€˜tpuâ€™: False, â€˜bf16â€™: False, â€˜memory_efficient_bf16â€™: False, â€˜fp16â€™: True, â€˜memory_efficient_fp16â€™: False, â€˜fp16_no_flatten_gradsâ€™: False, â€˜fp16_init_scaleâ€™: 128, â€˜fp16_scale_windowâ€™: None, â€˜fp16_scale_toleranceâ€™: 0.0, â€˜min_loss_scaleâ€™: 0.0001, â€˜threshold_loss_scaleâ€™: None, â€˜user_dirâ€™: None, â€˜empty_cache_freqâ€™: 0, â€˜all_gather_list_sizeâ€™: 16384, â€˜model_parallel_sizeâ€™: 1, â€˜quantization_config_pathâ€™: None, â€˜profileâ€™: False, â€˜reset_loggingâ€™: True}, â€˜common_evalâ€™: {â€˜_nameâ€™: None, â€˜pathâ€™: None, â€˜post_processâ€™: None, â€˜quietâ€™: False, â€˜model_overridesâ€™: â€˜{}â€™, â€˜results_pathâ€™: None}, â€˜distributed_trainingâ€™: {â€˜_nameâ€™: None, â€˜distributed_world_sizeâ€™: 8, â€˜distributed_rankâ€™: 0, â€˜distributed_backendâ€™: â€˜ncclâ€™, â€˜distributed_init_methodâ€™: â€˜tcp://localhost:12737â€™, â€˜distributed_portâ€™: -1, â€˜device_idâ€™: 0, â€˜distributed_no_spawnâ€™: False, â€˜ddp_backendâ€™: â€˜c10dâ€™, â€˜bucket_cap_mbâ€™: 25, â€˜fix_batches_to_gpusâ€™: False, â€˜find_unused_parametersâ€™: False, â€˜fast_stat_syncâ€™: False, â€˜heartbeat_timeoutâ€™: -1, â€˜broadcast_buffersâ€™: False, â€˜distributed_wrapperâ€™: â€˜DDPâ€™, â€˜slowmo_momentumâ€™: None, â€˜slowmo_algorithmâ€™: â€˜LocalSGDâ€™, â€˜localsgd_frequencyâ€™: 3, â€˜nprocs_per_nodeâ€™: 8, â€˜pipeline_model_parallelâ€™: False, â€˜pipeline_balanceâ€™: None, â€˜pipeline_devicesâ€™: None, â€˜pipeline_chunksâ€™: 0, â€˜pipeline_encoder_balanceâ€™: None, â€˜pipeline_encoder_devicesâ€™: None, â€˜pipeline_decoder_balanceâ€™: None, â€˜pipeline_decoder_devicesâ€™: None, â€˜pipeline_checkpointâ€™: â€˜neverâ€™, â€˜zero_shardingâ€™: â€˜noneâ€™, â€˜tpuâ€™: False, â€˜distributed_num_procsâ€™: 8}, â€˜datasetâ€™: {â€˜_nameâ€™: None, â€˜num_workersâ€™: 1, â€˜skip_invalid_size_inputs_valid_testâ€™: False, â€˜max_tokensâ€™: None, â€˜batch_sizeâ€™: 16, â€˜required_batch_size_multipleâ€™: 8, â€˜required_seq_len_multipleâ€™: 1, â€˜dataset_implâ€™: None, â€˜data_buffer_sizeâ€™: 10, â€˜train_subsetâ€™: â€˜trainâ€™, â€˜valid_subsetâ€™: â€˜validâ€™, â€˜validate_intervalâ€™: 1, â€˜validate_interval_updatesâ€™: 0, â€˜validate_after_updatesâ€™: 0, â€˜fixed_validation_seedâ€™: None, â€˜disable_validationâ€™: False, â€˜max_tokens_validâ€™: None, â€˜batch_size_validâ€™: 16, â€˜curriculumâ€™: 0, â€˜gen_subsetâ€™: â€˜testâ€™, â€˜num_shardsâ€™: 1, â€˜shard_idâ€™: 0}, â€˜optimizationâ€™: {â€˜_nameâ€™: None, â€˜max_epochâ€™: 0, â€˜max_updateâ€™: 125000, â€˜stop_time_hoursâ€™: 0.0, â€˜clip_normâ€™: 0.0, â€˜sentence_avgâ€™: False, â€˜update_freqâ€™: [16], â€˜lrâ€™: [0.0005], â€˜stop_min_lrâ€™: -1.0, â€˜use_bmufâ€™: False}, â€˜checkpointâ€™: {â€˜_nameâ€™: None, â€˜save_dirâ€™: â€˜checkpointsâ€™, â€˜restore_fileâ€™: â€˜checkpoint_last.ptâ€™, â€˜finetune_from_modelâ€™: None, â€˜reset_dataloaderâ€™: False, â€˜reset_lr_schedulerâ€™: False, â€˜reset_metersâ€™: False, â€˜reset_optimizerâ€™: False, â€˜optimizer_overridesâ€™: â€˜{}â€™, â€˜save_intervalâ€™: 1, â€˜save_interval_updatesâ€™: 0, â€˜keep_interval_updatesâ€™: -1, â€˜keep_last_epochsâ€™: -1, â€˜keep_best_checkpointsâ€™: -1, â€˜no_saveâ€™: False, â€˜no_epoch_checkpointsâ€™: False, â€˜no_last_checkpointsâ€™: False, â€˜no_save_optimizer_stateâ€™: False, â€˜best_checkpoint_metricâ€™: â€˜lossâ€™, â€˜maximize_best_checkpoint_metricâ€™: False, â€˜patienceâ€™: -1, â€˜checkpoint_suffixâ€™: â€˜â€™, â€˜checkpoint_shard_countâ€™: 1, â€˜load_checkpoint_on_all_dp_ranksâ€™: False, â€˜model_parallel_sizeâ€™: 1, â€˜distributed_rankâ€™: 0}, â€˜bmufâ€™: {â€˜_nameâ€™: None, â€˜block_lrâ€™: 1.0, â€˜block_momentumâ€™: 0.875, â€˜global_sync_iterâ€™: 50, â€˜warmup_iterationsâ€™: 500, â€˜use_nbmâ€™: False, â€˜average_syncâ€™: False, â€˜distributed_world_sizeâ€™: 8}, â€˜generationâ€™: {â€˜_nameâ€™: None, â€˜beamâ€™: 5, â€˜nbestâ€™: 1, â€˜max_len_aâ€™: 0.0, â€˜max_len_bâ€™: 200, â€˜min_lenâ€™: 1, â€˜match_source_lenâ€™: False, â€˜unnormalizedâ€™: False, â€˜no_early_stopâ€™: False, â€˜no_beamable_mmâ€™: False, â€˜lenpenâ€™: 1.0, â€˜unkpenâ€™: 0.0, â€˜replace_unkâ€™: None, â€˜sacrebleuâ€™: False, â€˜score_referenceâ€™: False, â€˜prefix_sizeâ€™: 0, â€˜no_repeat_ngram_sizeâ€™: 0, â€˜samplingâ€™: False, â€˜sampling_topkâ€™: -1, â€˜sampling_toppâ€™: -1.0, â€˜constraintsâ€™: None, â€˜temperatureâ€™: 1.0, â€˜diverse_beam_groupsâ€™: -1, â€˜diverse_beam_strengthâ€™: 0.5, â€˜diversity_rateâ€™: -1.0, â€˜print_alignmentâ€™: None, â€˜print_stepâ€™: False, â€˜lm_pathâ€™: None, â€˜lm_weightâ€™: 0.0, â€˜iter_decode_eos_penaltyâ€™: 0.0, â€˜iter_decode_max_iterâ€™: 10, â€˜iter_decode_force_max_iterâ€™: False, â€˜iter_decode_with_beamâ€™: 1, â€˜iter_decode_with_external_rerankerâ€™: False, â€˜retain_iter_historyâ€™: False, â€˜retain_dropoutâ€™: False, â€˜retain_dropout_modulesâ€™: None, â€˜decoding_formatâ€™: None, â€˜no_seed_providedâ€™: False}, â€˜eval_lmâ€™: {â€˜_nameâ€™: None, â€˜output_word_probsâ€™: False, â€˜output_word_statsâ€™: False, â€˜context_windowâ€™: 0, â€˜softmax_batchâ€™: 9223372036854775807}, â€˜interactiveâ€™: {â€˜_nameâ€™: None, â€˜buffer_sizeâ€™: 0, â€˜inputâ€™: â€˜-â€˜}, â€˜modelâ€™: Namespace(_name=â€™roberta_baseâ€™, activation_dropout=0.0, activation_fn=â€™geluâ€™, adam_betas=â€™(0.9,0.98)â€™, adam_eps=1e-06, all_gather_list_size=16384, arch=â€™roberta_baseâ€™, attention_dropout=0.1, azureml_logging=False, batch_size=16, batch_size_valid=16, best_checkpoint_metric=â€™lossâ€™, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix=â€™â€™, clip_norm=0.0, cpu=False, criterion=â€™masked_lmâ€™, curriculum=0, data=â€™data-bin/wikitext-103â€™, data_buffer_size=10, dataset_impl=None, ddp_backend=â€™c10dâ€™, device_id=0, disable_validation=False, distributed_backend=â€™ncclâ€™, distributed_init_method=None, distributed_no_spawn=False, distributed_port=-1, distributed_rank=0, distributed_world_size=8, distributed_wrapper=â€™DDPâ€™, dropout=0.1, empty_cache_freq=0, encoder_attention_heads=12, encoder_embed_dim=768, encoder_ffn_embed_dim=3072, encoder_layerdrop=0, encoder_layers=12, encoder_layers_to_keep=None, end_learning_rate=0.0, eos=2, fast_stat_sync=False, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, force_anneal=None, fp16=True, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, freq_weighted_replacement=False, gen_subset=â€™testâ€™, heartbeat_timeout=-1, keep_best_checkpoints=-1, keep_interval_updates=-1, keep_last_epochs=-1, leave_unmasked_prob=0.1, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_format=â€™simpleâ€™, log_interval=1, lr=[0.0005], lr_scheduler=â€™polynomial_decayâ€™, mask_multiple_length=1, mask_prob=0.15, mask_stdev=0.0, mask_whole_words=False, max_epoch=0, max_tokens=None, max_tokens_valid=None, max_update=125000, maximize_best_checkpoint_metric=False, memory_efficient_bf16=False, memory_efficient_fp16=False, min_loss_scale=0.0001, model_parallel_size=1, no_epoch_checkpoints=False, no_last_checkpoints=False, no_progress_bar=False, no_save=False, no_save_optimizer_state=False, no_seed_provided=False, nprocs_per_node=8, num_shards=1, num_workers=1, optimizer=â€™adamâ€™, optimizer_overrides=â€™{}â€™, pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint=â€™neverâ€™, pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, pooler_activation_fn=â€™tanhâ€™, pooler_dropout=0.0, power=1.0, profile=False, quant_noise_pq=0, quant_noise_pq_block_size=8, quant_noise_scalar=0, quantization_config_path=None, random_token_prob=0.1, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=True, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file=â€™checkpoint_last.ptâ€™, sample_break_mode=â€™completeâ€™, save_dir=â€™checkpointsâ€™, save_interval=1, save_interval_updates=0, scoring=â€™bleuâ€™, seed=1, sentence_avg=False, shard_id=0, shorten_data_split_list=â€™â€™, shorten_method=â€™noneâ€™, skip_invalid_size_inputs_valid_test=False, slowmo_algorithm=â€™LocalSGDâ€™, slowmo_momentum=None, spectral_norm_classification_head=False, stop_min_lr=-1.0, stop_time_hours=0, task=â€™masked_lmâ€™, tensorboard_logdir=None, threshold_loss_scale=None, tokenizer=None, tokens_per_sample=512, total_num_update=â€™125000â€™, tpu=False, train_subset=â€™trainâ€™, unk=3, untie_weights_roberta=False, update_freq=[16], use_bmuf=False, use_old_adam=False, user_dir=None, valid_subset=â€™validâ€™, validate_after_updates=0, validate_interval=1, validate_interval_updates=0, wandb_project=None, warmup_updates=10000, weight_decay=0.01, zero_sharding=â€™noneâ€™), â€˜taskâ€™: Namespace(_name=â€™masked_lmâ€™, activation_dropout=0.0, activation_fn=â€™geluâ€™, adam_betas=â€™(0.9,0.98)â€™, adam_eps=1e-06, all_gather_list_size=16384, arch=â€™roberta_baseâ€™, attention_dropout=0.1, azureml_logging=False, batch_size=16, batch_size_valid=16, best_checkpoint_metric=â€™lossâ€™, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix=â€™â€™, clip_norm=0.0, cpu=False, criterion=â€™masked_lmâ€™, curriculum=0, data=â€™data-bin/wikitext-103â€™, data_buffer_size=10, dataset_impl=None, ddp_backend=â€™c10dâ€™, device_id=0, disable_validation=False, distributed_backend=â€™ncclâ€™, distributed_init_method=None, distributed_no_spawn=False, distributed_port=-1, distributed_rank=0, distributed_world_size=8, distributed_wrapper=â€™DDPâ€™, dropout=0.1, empty_cache_freq=0, encoder_attention_heads=12, encoder_embed_dim=768, encoder_ffn_embed_dim=3072, encoder_layerdrop=0, encoder_layers=12, encoder_layers_to_keep=None, end_learning_rate=0.0, eos=2, fast_stat_sync=False, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, force_anneal=None, fp16=True, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, freq_weighted_replacement=False, gen_subset=â€™testâ€™, heartbeat_timeout=-1, keep_best_checkpoints=-1, keep_interval_updates=-1, keep_last_epochs=-1, leave_unmasked_prob=0.1, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_format=â€™simpleâ€™, log_interval=1, lr=[0.0005], lr_scheduler=â€™polynomial_decayâ€™, mask_multiple_length=1, mask_prob=0.15, mask_stdev=0.0, mask_whole_words=False, max_epoch=0, max_tokens=None, max_tokens_valid=None, max_update=125000, maximize_best_checkpoint_metric=False, memory_efficient_bf16=False, memory_efficient_fp16=False, min_loss_scale=0.0001, model_parallel_size=1, no_epoch_checkpoints=False, no_last_checkpoints=False, no_progress_bar=False, no_save=False, no_save_optimizer_state=False, no_seed_provided=False, nprocs_per_node=8, num_shards=1, num_workers=1, optimizer=â€™adamâ€™, optimizer_overrides=â€™{}â€™, pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint=â€™neverâ€™, pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, pooler_activation_fn=â€™tanhâ€™, pooler_dropout=0.0, power=1.0, profile=False, quant_noise_pq=0, quant_noise_pq_block_size=8, quant_noise_scalar=0, quantization_config_path=None, random_token_prob=0.1, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=True, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file=â€™checkpoint_last.ptâ€™, sample_break_mode=â€™completeâ€™, save_dir=â€™checkpointsâ€™, save_interval=1, save_interval_updates=0, scoring=â€™bleuâ€™, seed=1, sentence_avg=False, shard_id=0, shorten_data_split_list=â€™â€™, shorten_method=â€™noneâ€™, skip_invalid_size_inputs_valid_test=False, slowmo_algorithm=â€™LocalSGDâ€™, slowmo_momentum=None, spectral_norm_classification_head=False, stop_min_lr=-1.0, stop_time_hours=0, task=â€™masked_lmâ€™, tensorboard_logdir=None, threshold_loss_scale=None, tokenizer=None, tokens_per_sample=512, total_num_update=â€™125000â€™, tpu=False, train_subset=â€™trainâ€™, unk=3, untie_weights_roberta=False, update_freq=[16], use_bmuf=False, use_old_adam=False, user_dir=None, valid_subset=â€™validâ€™, validate_after_updates=0, validate_interval=1, validate_interval_updates=0, wandb_project=None, warmup_updates=10000, weight_decay=0.01, zero_sharding=â€™noneâ€™), â€˜criterionâ€™: Namespace(_name=â€™masked_lmâ€™, activation_dropout=0.0, activation_fn=â€™geluâ€™, adam_betas=â€™(0.9,0.98)â€™, adam_eps=1e-06, all_gather_list_size=16384, arch=â€™roberta_baseâ€™, attention_dropout=0.1, azureml_logging=False, batch_size=16, batch_size_valid=16, best_checkpoint_metric=â€™lossâ€™, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix=â€™â€™, clip_norm=0.0, cpu=False, criterion=â€™masked_lmâ€™, curriculum=0, data=â€™data-bin/wikitext-103â€™, data_buffer_size=10, dataset_impl=None, ddp_backend=â€™c10dâ€™, device_id=0, disable_validation=False, distributed_backend=â€™ncclâ€™, distributed_init_method=None, distributed_no_spawn=False, distributed_port=-1, distributed_rank=0, distributed_world_size=8, distributed_wrapper=â€™DDPâ€™, dropout=0.1, empty_cache_freq=0, encoder_attention_heads=12, encoder_embed_dim=768, encoder_ffn_embed_dim=3072, encoder_layerdrop=0, encoder_layers=12, encoder_layers_to_keep=None, end_learning_rate=0.0, eos=2, fast_stat_sync=False, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, force_anneal=None, fp16=True, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, freq_weighted_replacement=False, gen_subset=â€™testâ€™, heartbeat_timeout=-1, keep_best_checkpoints=-1, keep_interval_updates=-1, keep_last_epochs=-1, leave_unmasked_prob=0.1, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_format=â€™simpleâ€™, log_interval=1, lr=[0.0005], lr_scheduler=â€™polynomial_decayâ€™, mask_multiple_length=1, mask_prob=0.15, mask_stdev=0.0, mask_whole_words=False, max_epoch=0, max_tokens=None, max_tokens_valid=None, max_update=125000, maximize_best_checkpoint_metric=False, memory_efficient_bf16=False, memory_efficient_fp16=False, min_loss_scale=0.0001, model_parallel_size=1, no_epoch_checkpoints=False, no_last_checkpoints=False, no_progress_bar=False, no_save=False, no_save_optimizer_state=False, no_seed_provided=False, nprocs_per_node=8, num_shards=1, num_workers=1, optimizer=â€™adamâ€™, optimizer_overrides=â€™{}â€™, pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint=â€™neverâ€™, pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, pooler_activation_fn=â€™tanhâ€™, pooler_dropout=0.0, power=1.0, profile=False, quant_noise_pq=0, quant_noise_pq_block_size=8, quant_noise_scalar=0, quantization_config_path=None, random_token_prob=0.1, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=True, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file=â€™checkpoint_last.ptâ€™, sample_break_mode=â€™completeâ€™, save_dir=â€™checkpointsâ€™, save_interval=1, save_interval_updates=0, scoring=â€™bleuâ€™, seed=1, sentence_avg=False, shard_id=0, shorten_data_split_list=â€™â€™, shorten_method=â€™noneâ€™, skip_invalid_size_inputs_valid_test=False, slowmo_algorithm=â€™LocalSGDâ€™, slowmo_momentum=None, spectral_norm_classification_head=False, stop_min_lr=-1.0, stop_time_hours=0, task=â€™masked_lmâ€™, tensorboard_logdir=None, threshold_loss_scale=None, tokenizer=None, tokens_per_sample=512, total_num_update=â€™125000â€™, tpu=False, train_subset=â€™trainâ€™, unk=3, untie_weights_roberta=False, update_freq=[16], use_bmuf=False, use_old_adam=False, user_dir=None, valid_subset=â€™validâ€™, validate_after_updates=0, validate_interval=1, validate_interval_updates=0, wandb_project=None, warmup_updates=10000, weight_decay=0.01, zero_sharding=â€™noneâ€™), â€˜optimizerâ€™: {â€˜_nameâ€™: â€˜adamâ€™, â€˜adam_betasâ€™: â€˜(0.9,0.98)â€™, â€˜adam_epsâ€™: 1e-06, â€˜weight_decayâ€™: 0.01, â€˜use_old_adamâ€™: False, â€˜tpuâ€™: False, â€˜lrâ€™: [0.0005]}, â€˜lr_schedulerâ€™: {â€˜_nameâ€™: â€˜polynomial_decayâ€™, â€˜warmup_updatesâ€™: 10000, â€˜force_annealâ€™: None, â€˜end_learning_rateâ€™: 0.0, â€˜powerâ€™: 1.0, â€˜total_num_updateâ€™: 125000.0, â€˜lrâ€™: [0.0005]}, â€˜scoringâ€™: {â€˜_nameâ€™: â€˜bleuâ€™, â€˜padâ€™: 1, â€˜eosâ€™: 2, â€˜unkâ€™: 3}, â€˜bpeâ€™: None, â€˜tokenizerâ€™: None}</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.tasks.masked_lm | dictionary: 50264 types</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.data.data_utils | loaded 3760 examples from: data-bin/wikitext-103/valid</p>
<p>2020-12-28 15:40:45 | INFO | fairseq.tasks.masked_lm | loaded 580 blocks from: data-bin/wikitext-103/valid</p>
<p>2020-12-28 15:40:51 | INFO | fairseq_cli.train | RobertaModel(</p>
<p> (encoder): RobertaEncoder(</p>
<p>  (sentence_encoder): TransformerSentenceEncoder(</p>
<p>   (dropout_module): FairseqDropout()</p>
<p>   (embed_tokens): Embedding(50265, 768, padding_idx=1)</p>
<p>   (embed_positions): LearnedPositionalEmbedding(514, 768, padding_idx=1)</p>
<p>   (layers): ModuleList(</p>
<p>â€‹    (0): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (1): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (2): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (3): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (4): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (5): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (6): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (7): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (8): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (9): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (10): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>â€‹    (11): TransformerSentenceEncoderLayer(</p>
<p>â€‹     (dropout_module): FairseqDropout()</p>
<p>â€‹     (activation_dropout_module): FairseqDropout()</p>
<p>â€‹     (self_attn): MultiheadAttention(</p>
<p>â€‹      (dropout_module): FairseqDropout()</p>
<p>â€‹      (k_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (v_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (q_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹      (out_proj): Linear(in_features=768, out_features=768, bias=True)</p>
<p>â€‹     )</p>
<p>â€‹     (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹     (fc1): Linear(in_features=768, out_features=3072, bias=True)</p>
<p>â€‹     (fc2): Linear(in_features=3072, out_features=768, bias=True)</p>
<p>â€‹     (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>â€‹    )</p>
<p>   )</p>
<p>   (emb_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>  )</p>
<p>  (lm_head): RobertaLMHead(</p>
<p>   (dense): Linear(in_features=768, out_features=768, bias=True)</p>
<p>   (layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)</p>
<p>  )</p>
<p> )</p>
<p> (classification_heads): ModuleDict()</p>
<p>)</p>
<p>2020-12-28 15:40:51 | INFO | fairseq_cli.train | task: MaskedLMTask</p>
<p>2020-12-28 15:40:51 | INFO | fairseq_cli.train | model: RobertaModel</p>
<p>2020-12-28 15:40:51 | INFO | fairseq_cli.train | criterion: MaskedLmLoss</p>
<p>2020-12-28 15:40:51 | INFO | fairseq_cli.train | num. model params: 124696665 (num. trained: 124696665)</p>
<p>2020-12-28 15:40:56 | INFO | fairseq.trainer | detected shared parameter: encoder.sentence_encoder.embed_tokens.weight &lt;- encoder.lm_head.weight</p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>CUDA enviroments for all 8 workers</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | rank  0: capabilities = 7.5 ; total memory = 23.653 GB ; name = TITAN RTX                </p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | rank  1: capabilities = 7.5 ; total memory = 23.653 GB ; name = TITAN RTX                </p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | rank  2: capabilities = 7.5 ; total memory = 23.653 GB ; name = TITAN RTX                </p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | rank  3: capabilities = 7.5 ; total memory = 23.653 GB ; name = TITAN RTX                </p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | rank  4: capabilities = 7.5 ; total memory = 23.653 GB ; name = TITAN RTX                </p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | rank  5: capabilities = 7.5 ; total memory = 23.653 GB ; name = TITAN RTX                </p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | rank  6: capabilities = 7.5 ; total memory = 23.653 GB ; name = TITAN RTX                </p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | rank  7: capabilities = 7.5 ; total memory = 23.653 GB ; name = TITAN RTX                </p>
<p>2020-12-28 15:40:57 | INFO | fairseq.utils | <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>CUDA enviroments for all 8 workers</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>2020-12-28 15:40:57 | INFO | fairseq_cli.train | training on 8 devices (GPUs/TPUs)</p>
<p>2020-12-28 15:40:57 | INFO | fairseq_cli.train | max tokens per GPU = None and batch size per GPU = 16</p>
<p>2020-12-28 15:40:57 | INFO | fairseq.trainer | Preparing to load checkpoint checkpoints/checkpoint_last.pt</p>
<p>2020-12-28 15:40:57 | INFO | fairseq.trainer | No existing checkpoint found checkpoints/checkpoint_last.pt</p>
<p>2020-12-28 15:40:57 | INFO | fairseq.trainer | loading train data for epoch 1</p>
<p>2020-12-28 15:40:57 | INFO | fairseq.data.data_utils | loaded 1801350 examples from: data-bin/wikitext-103/train</p>
<p>2020-12-28 15:40:57 | INFO | fairseq.tasks.masked_lm | loaded 280678 blocks from: data-bin/wikitext-103/train</p>
<p>$fairseq$æ¨¡å‹è§£æ</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/141210591">https://zhuanlan.zhihu.com/p/141210591</a></p>
<p>![1](/å­¦ä¹ fairseqä¹‹Roberta/æˆªå±2020-12-28 ä¸‹åˆ4.38.11.png)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/28/%E5%AD%A6%E4%B9%A0fairseq%E4%B9%8BRoberta/" data-id="ckjchmpho0007e0fyek1c9qpl" data-title="å­¦ä¹ fairseqä¹‹Roberta" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-AttributeError-module-enum-has-no-attribute-IntFlag" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/25/AttributeError-module-enum-has-no-attribute-IntFlag/" class="article-date">
  <time class="dt-published" datetime="2020-12-25T04:00:57.000Z" itemprop="datePublished">2020-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/25/AttributeError-module-enum-has-no-attribute-IntFlag/">AttributeError: module &#39;enum&#39; has no attribute &#39;IntFlag&#39;</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>enumçš„è·¯å¾„é—®é¢˜ã€‚</p>
<p>å¸è½½æ‰enum34å³å¯ã€‚</p>
<p><code>pip uninstall enum34</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/25/AttributeError-module-enum-has-no-attribute-IntFlag/" data-id="ckjchmphb0000e0fy7npfdeis" data-title="AttributeError: module &#39;enum&#39; has no attribute &#39;IntFlag&#39;" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-æŸ¥çœ‹åº“çš„ç‰ˆæœ¬" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/25/%E6%9F%A5%E7%9C%8B%E5%BA%93%E7%9A%84%E7%89%88%E6%9C%AC/" class="article-date">
  <time class="dt-published" datetime="2020-12-25T03:36:52.000Z" itemprop="datePublished">2020-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/25/%E6%9F%A5%E7%9C%8B%E5%BA%93%E7%9A%84%E7%89%88%E6%9C%AC/">æŸ¥çœ‹åº“çš„ç‰ˆæœ¬</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt list --installed</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip list</span><br></pre></td></tr></table></figure>




<ul>
<li><p>æŸ¥çœ‹Pytorchç‰ˆæœ¬çš„æ–¹æ³•ï¼š</p>
<p>è¿›å…¥pythonäº¤äº’ç¯å¢ƒï¼Œ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">print(torch.__version__)</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹condaç‰ˆæœ¬ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda --version</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p>æŸ¥çœ‹cudaç‰ˆæœ¬ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc -V</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.version.cuda</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p>æŸ¥çœ‹numpyç‰ˆæœ¬</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip show numpy</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/25/%E6%9F%A5%E7%9C%8B%E5%BA%93%E7%9A%84%E7%89%88%E6%9C%AC/" data-id="ckjchmphk0005e0fybujl5238" data-title="æŸ¥çœ‹åº“çš„ç‰ˆæœ¬" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Docker installation in Mac" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/24/Docker%20installation%20in%20Mac/" class="article-date">
  <time class="dt-published" datetime="2020-12-24T05:15:54.000Z" itemprop="datePublished">2020-12-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/24/Docker%20installation%20in%20Mac/">Docker installation</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><p>download docker desktop from  <a target="_blank" rel="noopener" href="https://hub.docker.com/editions/community/docker-ce-desktop-mac/">https://hub.docker.com/editions/community/docker-ce-desktop-mac/</a></p>
</li>
<li><p>double click <code>Docker.dmg</code> file</p>
</li>
<li><p>drag the Docker icon to the application folder</p>
</li>
<li><p>dougle click <code>Docker.app</code> to start Docker</p>
</li>
<li><p>check if the Docker is installed successfully in command line</p>
<p><code>docker version</code></p>
<p><code>docker-compose --version</code></p>
<p><code>docker-machine --version</code></p>
</li>
<li><p>How to solve <em>command not found docker-machine error</em>?</p>
<ul>
<li>install Docker Machine</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">base=https:<span class="comment">//github.com/docker/machine/releases/download/v0.16.0 &amp;&amp;</span></span><br><span class="line">  curl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;<span class="regexp">/usr/</span>local/bin/docker-machine &amp;&amp;</span><br><span class="line">  chmod +x /usr/local/bin/docker-machine</span><br></pre></td></tr></table></figure></li>
<li><p>æ·»åŠ é•œåƒåŠ é€Ÿå™¨</p>
<p>æ³¨å†Œ<a target="_blank" rel="noopener" href="https://homenew.console.aliyun.com/home/scene/ProductAndService">é˜¿é‡Œäº‘</a>ï¼Œè·å–é•œåƒåŠ é€Ÿå™¨åœ°å€ã€‚</p>
<p>ç‚¹å‡»Dockerå›¾æ ‡ï¼ŒPreferences-&gt;Docker Engineï¼Œåœ¨å³ä¾§çª—å£ä¿®æ”¹jsonä¿¡æ¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;experimental&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">&quot;features&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;buildkit&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://14b3r05r.mirror.aliyuncs.com&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç‚¹å‡»Apply and Restart</p>
<p>è¾“å…¥<code>docker info</code>å°±å¯ä»¥æŸ¥çœ‹æ˜¯å¦æ·»åŠ æˆåŠŸã€‚</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/24/Docker%20installation%20in%20Mac/" data-id="ckjchmphg0001e0fy3xa6cxyj" data-title="Docker installation" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hexo-blog-in-Mac" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/24/hexo-blog-in-Mac/" class="article-date">
  <time class="dt-published" datetime="2020-12-24T02:07:08.000Z" itemprop="datePublished">2020-12-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/24/hexo-blog-in-Mac/">hexo-blog-in-Mac</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å®˜ç½‘ <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a> </p>
<p>å®‰è£… git</p>
<p>å®‰è£…node.js, <code>brew install node</code></p>
<p>å®‰è£…hexoï¼Œ <code>npm install -g hexo-cli</code></p>
<p>åˆ›å»ºä¸ªäººåšå®¢ç›®å½• <code>mkdir MyBlog</code></p>
<p><code>hexo init</code></p>
<p><code>hexo s</code>, Hexo is running at <a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000</a> . Press Ctrl+C to stop. æ‰“å¼€ç½‘é¡µï¼Œ</p>
<p>åšå®¢å…³è”åˆ°githubä»“åº“ï¼šé…ç½®_config.ymlæ–‡ä»¶ã€‚ </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https:<span class="comment">//github.com/UserName/UserName.github.io</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>äº§ç”Ÿé™æ€ç½‘é¡µï¼š <code>hexo g</code></p>
<p>éƒ¨ç½²åˆ°GitHub pageä¸Šï¼š<code> hexo d</code></p>
<p>#å‡ºç°é”™è¯¯1ï¼š</p>
<p>INFO Validating config</p>
<p>ERROR Deployer not found: git</p>
<p>è§£å†³åŠæ³•ï¼š <code>npm install --save hexo-deployer-git</code></p>
<p>#å‡ºç°é”™è¯¯2</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">*** Please tell me who you are.</span><br><span class="line"></span><br><span class="line">Run</span><br><span class="line"></span><br><span class="line"> git config --<span class="built_in">global</span> user.email <span class="string">&quot;you@example.com&quot;</span></span><br><span class="line"></span><br><span class="line"> git config --<span class="built_in">global</span> user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line"></span><br><span class="line">to set your account<span class="string">&#x27;s default identity.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Omit --global to set the identity only in this repository.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">fatal: unable to auto-detect email address (got &#x27;</span>cbl@bogon.(none)<span class="string">&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">error: src refspec HEAD does not match any</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">error: failed to push some refs to &#x27;</span>https:<span class="comment">//github.com/CBLkfit/CBLkfit.github.io&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è§£å†³åŠæ³•ï¼šè®¾ç½®å¥½git config</p>
<ul>
<li><p>å›¾ç‰‡æ·»åŠ ä»¥åŠä¸Šè½½é—®é¢˜ï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼šå®‰è£…æ’ä»¶ </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒæ­¥ï¼šæ‰“å¼€hexoé…ç½®æ–‡ä»¶_config.yml</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder=<span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸‰æ­¥ï¼šæ‰“å¼€ node_modules/hexo-asset-image/index.jsæ–‡ä»¶ï¼Œæ›´æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼š</p>
</li>
</ul>
<p>  ç¬¬å››æ­¥ï¼šéªŒè¯æ˜¯å¦èƒ½æ­£ç¡®æ’å…¥å›¾ç‰‡ã€‚hexo n â€˜add_photoâ€™ï¼Œåœ¨source/_postsä¸‹ç”Ÿæˆadd_photo.mdæ–‡ä»¶å’Œadd_photoæ–‡ä»¶å¤¹ã€‚æŠŠè¦æ’å…¥çš„å›¾ç‰‡å¤åˆ¶åˆ°add_photoæ–‡ä»¶å¤¹ä¸‹ï¼Œåœ¨mdæ–‡ä»¶é‡Œï¼Œç”¨ä¸‹é¢çš„ä»£ç å°±å¯ä»¥æ’å…¥å›¾ç‰‡å•¦ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/24/hexo-blog-in-Mac/" data-id="ckjchmphi0003e0fy9uv51vmm" data-title="hexo-blog-in-Mac" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Transformersé¢„è®­ç»ƒæ¨¡å‹çš„ä½¿ç”¨" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/24/Transformers%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2020-12-24T01:50:06.000Z" itemprop="datePublished">2020-12-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/24/Transformers%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8/">Transformersé¢„è®­ç»ƒæ¨¡å‹çš„ä½¿ç”¨</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/">åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</a></p>
</li>
<li><p>åœ¨æ–‡ä»¶ç›®å½•ä¸‹ï¼Œè¿è¡Œ </p>
</li>
</ul>
<p><code>python3 -m venv env</code></p>
<p><code>source env/bin/activate</code></p>
<ul>
<li><p>å¦‚æœè¦ç¦»å¼€è™šæ‹Ÿç¯å¢ƒï¼Œè¿è¡Œ <code>deactivate</code></p>
</li>
<li><p>installing from source</p>
</li>
</ul>
<p><code>git clone https://github.com/huggingface/transformers.git</code></p>
<p><code>cd transformers</code></p>
<p><code>pip install -e .</code></p>
<p>æµ‹è¯•</p>
<p><code>python -c &quot;from transformers import pipeline; print(pipeline(&#39;sentiment-analysis&#39;)(&#39;I hate youâ€™))â€</code></p>
<p>ä¼šè¾“å‡º<code> [&#123;&#39;label&#39;: &#39;NEGATIVE&#39;, &#39;score&#39;: 0.9991129040718079&#125;]</code></p>
<p><strong>æŠ¥é”™</strong></p>
<ul>
<li>è‹¥æç¤ºæ²¡æœ‰Pytorchæˆ–è€…Tensorflowï¼Œ<code>pip3 install torch torchvision</code></li>
<li>ValueError: Connection error, and we cannot find the requested files in the cached path. Please try again or make sure your Internet connection is on. ç½‘çš„é—®é¢˜</li>
<li>Exception has occurred: OSError Unable to load weights from pytorch checkpoint file. If you tried to load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True. è§£å†³åŠæ³•ï¼šæ¸…é™¤  ~/.cache/torch/transformersä¸‹çš„æ‰€æœ‰æ–‡ä»¶åé‡è¯•ã€‚</li>
</ul>
<p><strong>é’ˆå¯¹ç½‘ç»œé—®é¢˜ï¼Œæ‰‹åŠ¨ä¸‹è½½ï¼Œæœ¬åœ°åŠ è½½é¢„è®­ç»ƒæƒé‡</strong></p>
<p>ç½‘ç«™<a target="_blank" rel="noopener" href="https://huggingface.co/models%E5%8C%85%E5%90%AB%E4%BA%86transformers%E6%94%AF%E6%8C%81%E7%9A%84%E6%89%80%E6%9C%89%E6%A8%A1%E5%9E%8B%EF%BC%8C%E9%80%89%E4%B8%AD%E9%9C%80%E8%A6%81%E4%B8%8B%E8%BD%BD%E7%9A%84%E6%A8%A1%E5%9E%8B%E3%80%82%E4%BB%A5bert-base-uncased%E4%B8%BA%E4%BE%8B%E3%80%82%E7%82%B9%E5%BC%80files">https://huggingface.co/modelsåŒ…å«äº†transformersæ”¯æŒçš„æ‰€æœ‰æ¨¡å‹ï¼Œé€‰ä¸­éœ€è¦ä¸‹è½½çš„æ¨¡å‹ã€‚ä»¥bert-base-uncasedä¸ºä¾‹ã€‚ç‚¹å¼€files</a> and versionsï¼Œå¯ä»¥çœ‹åˆ°æ–‡ä»¶åˆ—è¡¨ï¼Œæ‰¾åˆ°åˆ—è¡¨ä¸­çš„config.jsonï¼Œpytorch_model.binå’Œvocabæ–‡ä»¶ï¼Œç‚¹å‡»ä¸‹è½½å›¾æ ‡ï¼Œä¸‹è½½åˆ°æŒ‡å®šæ–‡ä»¶å¤¹bert-base-uncasedä¸­ã€‚config.jsonæ˜¯æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼Œpytorch_model.binæ˜¯å­˜å‚¨çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œvocabæ˜¯å­—å…¸ã€‚</p>
<p><img src="/Users/cbl/MyBlog/source/_posts/Transformers%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8/%E6%9C%AC%E5%9C%B0%E5%8A%A0%E8%BD%BD.png" alt="æœ¬åœ°åŠ è½½"></p>


<p><strong>å¦‚ä½•åœ¨è™šæ‹Ÿç¯å¢ƒä¸‹è¿è¡Œjupyter notebook</strong></p>
<p>å‚è€ƒ<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/0432155d1bef">https://www.jianshu.com/p/0432155d1bef</a></p>
<p>ä¸ºè™šæ‹Ÿç¯å¢ƒå®‰è£…ikernelåŒ…</p>
<p><code>pip3 install ipykernel</code></p>
<p>æ¿€æ´»ç¯å¢ƒ</p>
<p><code>python -m ipykernel install â€”name env</code></p>
<p><strong><em>\</em>{****% asset_img test.jpg This is an test image %**}*\</strong>***</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/24/Transformers%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8/" data-id="ckjchmphh0002e0fy4qucc02p" data-title="Transformersé¢„è®­ç»ƒæ¨¡å‹çš„ä½¿ç”¨" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/12/31/logistic%20regression/">(no title)</a>
          </li>
        
          <li>
            <a href="/2020/12/30/%E7%94%A8docker%E9%83%A8%E7%BD%B2python%E7%8E%AF%E5%A2%83/">ç”¨dockeréƒ¨ç½²pythonç¯å¢ƒ</a>
          </li>
        
          <li>
            <a href="/2020/12/28/%E5%AD%A6%E4%B9%A0fairseq%E4%B9%8BRoberta/">å­¦ä¹ fairseqä¹‹Roberta</a>
          </li>
        
          <li>
            <a href="/2020/12/25/AttributeError-module-enum-has-no-attribute-IntFlag/">AttributeError: module &#39;enum&#39; has no attribute &#39;IntFlag&#39;</a>
          </li>
        
          <li>
            <a href="/2020/12/25/%E6%9F%A5%E7%9C%8B%E5%BA%93%E7%9A%84%E7%89%88%E6%9C%AC/">æŸ¥çœ‹åº“çš„ç‰ˆæœ¬</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2020 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>